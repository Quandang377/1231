create table Nhanvien(
TENDANGNHAP varchar(30) Primary key,
MATKHAU char(32),
HOTEN nvarchar(32),
EMAIL varchar(30),
DIACHI ntext,
DIENTHOAI varchar(20),
NGAYSINH datetime,
GIOITINH bit,
XOA bit,
GHICHU ntext
)

create table HDNHAPHANG
(
MAHD int primary key,
NGAYNHAP datetime,
MANV varchar(30),
MANCC int,
TONGTIEN int,
GHICHU ntext
)
create table NHACUNGCAP
(
MANCC int PRIMARY KEY,
TEN nvarchar(255),
WEBSITE varchar(50),
EMAIL VARCHAR(50),
XOA BIT,
GHICHU NTEXT
)
CREATE TABLE CTHDNHAPHANG
(
MAHD INT PRIMARY KEY(MAHD,MASP),
MASP INT,
SOLUONG INT,
DONGIA INT,
THANHTIEN INT
)
CREATE TABLE NHASANXUAT
(
MANSX INT PRIMARY KEY,
TEN NVARCHAR(50),
WEBSITE VARCHAR(50),
EMAIL VARCHAR(50),
XOA BIT,
GHICHU NTEXT
)
CREATE TABLE SANPHAM(
MASP INT PRIMARY KEY,
TEN NVARCHAR(255),
MALOAISP INT,
MANSX INT,
SOLUONG INT,
DONGIA INT,
MOTA NTEXT,
XOA BIT,
GHICHU NTEXT,
)
CREATE TABLE LOAISANPHAM(
MALOAISP INT PRIMARY KEY,
TEN NVARCHAR(50),
XOA BIT,
GHICHU NTEXT
)
CREATE TABLE HDBANHANG(
MAHD INT PRIMARY KEY,
NGAYBAN DATETIME,
MANV VARCHAR(30),
MAKH INT,
TONGTIEN INT,
GHICHU NTEXT
)

CREATE TABLE KHACHHANG(
MAKH INT PRIMARY KEY,
HOTEN NVARCHAR(50),
EMAIL VARCHAR(30),
DIACHI NTEXT,
DIENTHOAI VARCHAR(20),
NGAYSINH DATETIME,
GIOITINH BIT,
XOA BIT,
GHICHU NTEXT,
)
CREATE TABLE CTHDBANHANG(
MAHD INT PRIMARY KEY(MAHD,MASP),
MASP INT,
SOLUONG INT,
DONGIA INT,
THANHTIEN INT
)
ALTER TABLE HDNHAPHANG
ADD CONSTRAINT PK_MANCC FOREIGN KEY (MANCC) REFERENCES NHACUNGCAP(MANCC)

ALTER TABLE CTHDNHAPHANG
ADD CONSTRAINT PK_MAHD FOREIGN KEY (MAHD) REFERENCES HDNHAPHANG(MAHD)

ALTER TABLE CTHDNHAPHANG
ADD CONSTRAINT PK_MASP FOREIGN KEY (MASP) REFERENCES SANPHAM(MASP)

ALTER TABLE HDNHAPHANG
ADD CONSTRAINT PK_MANV FOREIGN KEY (MANV) REFERENCES NHANVIEN(TENDANGNHAP)

ALTER TABLE SANPHAM
ADD CONSTRAINT PK_MANSX FOREIGN KEY (MANSX) REFERENCES NHASANXUAT(MANSX)


ALTER TABLE SANPHAM
ADD CONSTRAINT PK_MALOAISANPHAM FOREIGN KEY (MALOAISP) REFERENCES LOAISANPHAM(MALOAISP)


ALTER TABLE SANPHAM
ADD CONSTRAINT PK_MANSX FOREIGN KEY (MANSX) REFERENCES NHASANXUAT(MANSX)


ALTER TABLE CTHDBANHANG
ADD CONSTRAINT PK_MASPBH FOREIGN KEY (MASP) REFERENCES SANPHAM(MASP)


ALTER TABLE CTHDBANHANG
ADD CONSTRAINT PK_MAHDBH FOREIGN KEY (MAHD) REFERENCES HDBANHANG(MAHD)

ALTER TABLE HDBANHANG
ADD CONSTRAINT PK_MAKHBH FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH)

ALTER TABLE HDBANHANG
ADD CONSTRAINT PK_MANVBH FOREIGN KEY (MANV) REFERENCES NHANVIEN(TENDANGNHAP)
